<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Social and Semantic Network Analysis | Introduction to Computational Social Science</title>
  <meta name="description" content="10 Social and Semantic Network Analysis | Introduction to Computational Social Science" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Social and Semantic Network Analysis | Introduction to Computational Social Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Social and Semantic Network Analysis | Introduction to Computational Social Science" />
  
  
  

<meta name="author" content="Mark Hoffman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="machine-learning-with-caret.html"/>
<link rel="next" href="working-with-weird-data-an-example.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="reading-list.html"><a href="reading-list.html"><i class="fa fa-check"></i><b>1</b> Reading List</a>
<ul>
<li class="chapter" data-level="1.1" data-path="reading-list.html"><a href="reading-list.html#readings-and-software"><i class="fa fa-check"></i><b>1.1</b> Readings and Software</a></li>
<li class="chapter" data-level="1.2" data-path="reading-list.html"><a href="reading-list.html#course-outline"><i class="fa fa-check"></i><b>1.2</b> Course Outline</a></li>
<li class="chapter" data-level="1.3" data-path="reading-list.html"><a href="reading-list.html#week-1-beg.-september-20th-introductions-lab-introduction-to-r"><i class="fa fa-check"></i><b>1.3</b> Week 1 (beg. September 20th): Introductions (Lab: Introduction to R)</a></li>
<li class="chapter" data-level="1.4" data-path="reading-list.html"><a href="reading-list.html#week-2-beg.-september-27th-ethics-lab-surveys-and-survey-experiments"><i class="fa fa-check"></i><b>1.4</b> Week 2 (beg. September 27th): Ethics (Lab: Surveys and Survey Experiments)</a></li>
<li class="chapter" data-level="1.5" data-path="reading-list.html"><a href="reading-list.html#week-3-beg.-october-4th-inequality-lab-collecting-data-online"><i class="fa fa-check"></i><b>1.5</b> Week 3 (beg. October 4th): Inequality (Lab: Collecting Data Online)</a></li>
<li class="chapter" data-level="1.6" data-path="reading-list.html"><a href="reading-list.html#week-4-beg.-october-11th-polarization-lab-analyzing-text"><i class="fa fa-check"></i><b>1.6</b> Week 4 (beg. October 11th): Polarization (Lab: Analyzing Text)</a></li>
<li class="chapter" data-level="1.7" data-path="reading-list.html"><a href="reading-list.html#week-5-beg.-october-18th-markets-lab-regression"><i class="fa fa-check"></i><b>1.7</b> Week 5 (beg. October 18th): Markets (Lab: Regression)</a></li>
<li class="chapter" data-level="1.8" data-path="reading-list.html"><a href="reading-list.html#week-6-beg.-october-25th-discrimination-lab-machine-learning"><i class="fa fa-check"></i><b>1.8</b> Week 6 (beg. October 25th): Discrimination (Lab: Machine Learning)</a></li>
<li class="chapter" data-level="1.9" data-path="reading-list.html"><a href="reading-list.html#week-7-beg.-november-1st-homophily-and-diffusion-lab-network-analysis"><i class="fa fa-check"></i><b>1.9</b> Week 7 (beg. November 1st): Homophily and Diffusion (Lab: Network Analysis)</a></li>
<li class="chapter" data-level="1.10" data-path="reading-list.html"><a href="reading-list.html#week-8-beg.-november-8th-semantic-change-and-historical-meaning-lab-semantic-network-analysis"><i class="fa fa-check"></i><b>1.10</b> Week 8 (beg. November 8th): Semantic Change and Historical Meaning (Lab: Semantic Network Analysis)</a></li>
<li class="chapter" data-level="1.11" data-path="reading-list.html"><a href="reading-list.html#week-9-beg.-november-15th-health-no-lab"><i class="fa fa-check"></i><b>1.11</b> Week 9 (beg. November 15th): Health (No Lab)</a></li>
<li class="chapter" data-level="1.12" data-path="reading-list.html"><a href="reading-list.html#week-10-beg.-november-29th-group-presentations"><i class="fa fa-check"></i><b>1.12</b> Week 10 (beg. November 29th): Group Presentations</a></li>
<li class="chapter" data-level="1.13" data-path="reading-list.html"><a href="reading-list.html#december-11th-final-papers-are-due."><i class="fa fa-check"></i><b>1.13</b> December 11th: Final papers are due.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Installing R and RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#downloading-and-installing-r"><i class="fa fa-check"></i><b>2.1</b> Downloading and Installing R</a></li>
<li class="chapter" data-level="2.2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#downloading-and-installing-rstudio"><i class="fa fa-check"></i><b>2.2</b> Downloading and Installing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tour-rstudio-with-udacity.html"><a href="tour-rstudio-with-udacity.html"><i class="fa fa-check"></i><b>3</b> Tour RStudio with Udacity</a></li>
<li class="chapter" data-level="4" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>4</b> R Basics</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-basics.html"><a href="r-basics.html#vectors"><i class="fa fa-check"></i><b>4.1</b> Vectors</a></li>
<li class="chapter" data-level="4.2" data-path="r-basics.html"><a href="r-basics.html#loading-packages"><i class="fa fa-check"></i><b>4.2</b> Loading Packages</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="exploring-and-visualizing-data.html"><a href="exploring-and-visualizing-data.html"><i class="fa fa-check"></i><b>5</b> Exploring and Visualizing Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="exploring-and-visualizing-data.html"><a href="exploring-and-visualizing-data.html#lab-assignment"><i class="fa fa-check"></i><b>5.1</b> Lab Assignment</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html"><i class="fa fa-check"></i><b>6</b> Surveys and Survey Experiments with Qualtrics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#creating-a-qualtrics-account"><i class="fa fa-check"></i><b>6.1</b> Creating a Qualtrics account</a></li>
<li class="chapter" data-level="6.2" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#building-a-survey"><i class="fa fa-check"></i><b>6.2</b> Building a survey</a></li>
<li class="chapter" data-level="6.3" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#survey-options"><i class="fa fa-check"></i><b>6.3</b> Survey options</a></li>
<li class="chapter" data-level="6.4" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#a-quick-survey-experiment"><i class="fa fa-check"></i><b>6.4</b> A quick survey experiment</a></li>
<li class="chapter" data-level="6.5" data-path="surveys-and-survey-experiments-with-qualtrics.html"><a href="surveys-and-survey-experiments-with-qualtrics.html#publish-and-distribute"><i class="fa fa-check"></i><b>6.5</b> Publish and Distribute</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="collecting-data-online.html"><a href="collecting-data-online.html"><i class="fa fa-check"></i><b>7</b> Collecting data online</a>
<ul>
<li class="chapter" data-level="7.1" data-path="collecting-data-online.html"><a href="collecting-data-online.html#scraping-the-web"><i class="fa fa-check"></i><b>7.1</b> Scraping the web</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html"><i class="fa fa-check"></i><b>8</b> Machine Learning I: Linear and Multiple Regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html#more-with-the-gss"><i class="fa fa-check"></i><b>8.1</b> More with the GSS</a></li>
<li class="chapter" data-level="8.2" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html#how-regression-works"><i class="fa fa-check"></i><b>8.2</b> How regression works</a></li>
<li class="chapter" data-level="8.3" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html#linear-regression-using-the-lm-function"><i class="fa fa-check"></i><b>8.3</b> Linear regression using the lm function</a></li>
<li class="chapter" data-level="8.4" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html#prediction-and-prediction-errors"><i class="fa fa-check"></i><b>8.4</b> Prediction and prediction errors</a></li>
<li class="chapter" data-level="8.5" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html#multiple-regression"><i class="fa fa-check"></i><b>8.5</b> Multiple Regression</a></li>
<li class="chapter" data-level="8.6" data-path="machine-learning-i-linear-and-multiple-regression.html"><a href="machine-learning-i-linear-and-multiple-regression.html#prediction"><i class="fa fa-check"></i><b>8.6</b> Prediction</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="machine-learning-with-caret.html"><a href="machine-learning-with-caret.html"><i class="fa fa-check"></i><b>9</b> Machine Learning with caret</a>
<ul>
<li class="chapter" data-level="9.1" data-path="machine-learning-with-caret.html"><a href="machine-learning-with-caret.html#the-data"><i class="fa fa-check"></i><b>9.1</b> The data</a></li>
<li class="chapter" data-level="9.2" data-path="machine-learning-with-caret.html"><a href="machine-learning-with-caret.html#training-vs.-testing"><i class="fa fa-check"></i><b>9.2</b> Training vs. testing</a></li>
<li class="chapter" data-level="9.3" data-path="machine-learning-with-caret.html"><a href="machine-learning-with-caret.html#creating-features"><i class="fa fa-check"></i><b>9.3</b> Creating features</a></li>
<li class="chapter" data-level="9.4" data-path="machine-learning-with-caret.html"><a href="machine-learning-with-caret.html#constructing-a-model"><i class="fa fa-check"></i><b>9.4</b> Constructing a model</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="machine-learning-with-caret.html"><a href="machine-learning-with-caret.html#lab"><i class="fa fa-check"></i><b>9.4.1</b> LAB</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html"><i class="fa fa-check"></i><b>10</b> Social and Semantic Network Analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#understanding-network-data-structures"><i class="fa fa-check"></i><b>10.1</b> Understanding network data structures</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#edge-lists"><i class="fa fa-check"></i><b>10.1.1</b> Edge lists</a></li>
<li class="chapter" data-level="10.1.2" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#adjacency-matrices"><i class="fa fa-check"></i><b>10.1.2</b> Adjacency matrices</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#producing-a-skip-gram-matrix-for-semantic-network-analysis-and-embedding-models"><i class="fa fa-check"></i><b>10.2</b> Producing a skip-gram matrix for semantic network analysis and embedding models</a></li>
<li class="chapter" data-level="10.3" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#from-data-to-networks"><i class="fa fa-check"></i><b>10.3</b> From data to networks</a></li>
<li class="chapter" data-level="10.4" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#exploring-your-network"><i class="fa fa-check"></i><b>10.4</b> Exploring your network</a></li>
<li class="chapter" data-level="10.5" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#the-basics-of-visualization"><i class="fa fa-check"></i><b>10.5</b> The Basics of Visualization</a></li>
<li class="chapter" data-level="10.6" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#layouts"><i class="fa fa-check"></i><b>10.6</b> Layouts</a></li>
<li class="chapter" data-level="10.7" data-path="social-and-semantic-network-analysis.html"><a href="social-and-semantic-network-analysis.html#group-detection"><i class="fa fa-check"></i><b>10.7</b> Group detection</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="working-with-weird-data-an-example.html"><a href="working-with-weird-data-an-example.html"><i class="fa fa-check"></i><b>11</b> Working with weird data, an example</a>
<ul>
<li class="chapter" data-level="11.1" data-path="working-with-weird-data-an-example.html"><a href="working-with-weird-data-an-example.html#reading-in-pdf-data"><i class="fa fa-check"></i><b>11.1</b> Reading in PDF data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Computational Social Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="social-and-semantic-network-analysis" class="section level1" number="10">
<h1><span class="header-section-number">10</span> Social and Semantic Network Analysis</h1>
<p>This week our tutorial will cover network analysis. Network analysis focuses on patterns of relations between actors. Both relations and actors can be defined in many ways, depending on the substantive area of inquiry. For example, network analysis has been used to study the structure of affective links between persons, flows of commodities between organizations, shared members between social movement organizations, and shared words between texts. What is common across these domains is an emphasis on the structure of relations, which serves to link the micro- and macro-levels.</p>
<div id="understanding-network-data-structures" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Understanding network data structures</h2>
<p>Underlying every network visualization is data about relationships. These relationships can be observed or simulated (that is, hypothetical). When analyzing a set of relationships, we will generally use one of two different data structures: edge lists or adjacency matrices.</p>
<div id="edge-lists" class="section level3" number="10.1.1">
<h3><span class="header-section-number">10.1.1</span> Edge lists</h3>
<p>One simple way to represent a graph is to list the edges, which we will refer to as an edge list. For each edge, we just list who that edge is incident on. Edge lists are therefore two column matrices that directly tell the computer which actors are tied for each edge. In a directed graph, the actors in column A are the sources of edges, and the actors in Column B receive the tie. In an undirected graph, order doesn’t matter.</p>
<p>In R, we can create an example edge list using vectors and data.frames. I specify each column of the edge list with vectors and then assign them as the columns of a data.frame. We can use this to visualize what an edge list should look like.</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="social-and-semantic-network-analysis.html#cb188-1" aria-hidden="true" tabindex="-1"></a>personA <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Mark&quot;</span>, <span class="st">&quot;Mark&quot;</span>, <span class="st">&quot;Peter&quot;</span>, <span class="st">&quot;Peter&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Jill&quot;</span>)</span>
<span id="cb188-2"><a href="social-and-semantic-network-analysis.html#cb188-2" aria-hidden="true" tabindex="-1"></a>personB <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Peter&quot;</span>, <span class="st">&quot;Jill&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Aaron&quot;</span>, <span class="st">&quot;Jill&quot;</span>, <span class="st">&quot;Aaron&quot;</span>)</span>
<span id="cb188-3"><a href="social-and-semantic-network-analysis.html#cb188-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-4"><a href="social-and-semantic-network-analysis.html#cb188-4" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">PersonA =</span> personA, <span class="at">PersonB =</span> personB, <span class="at">stringsAsFactors =</span> F)</span>
<span id="cb188-5"><a href="social-and-semantic-network-analysis.html#cb188-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb188-6"><a href="social-and-semantic-network-analysis.html#cb188-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(edgelist)</span></code></pre></div>
<pre><code>##   PersonA PersonB
## 1    Mark   Peter
## 2    Mark    Jill
## 3   Peter     Bob
## 4   Peter   Aaron
## 5     Bob    Jill
## 6    Jill   Aaron</code></pre>
<p>What are the upsides of using the edge list format? As you can see, in an edge list, the number of rows accords to the number of edges in the network since each row details the actors in a specific tie. It is therefore really simple format for <em>recording</em> network data in an excel file or csv file.</p>
<p>What are the downsides? The first is practical - it is impossible to represent isolates using an edge list since it details relations. There are ways to get around this problem in R, however. The second is technical - edge lists are not suitable for data formats for performing linear algebraic techniques. As a result, we will almost always convert and edge list into either an adjacency matrix, or into a network object.</p>
</div>
<div id="adjacency-matrices" class="section level3" number="10.1.2">
<h3><span class="header-section-number">10.1.2</span> Adjacency matrices</h3>
<p>Adjacency matrices have one row and one column for each actor in the network. The elements of the matrix can be any number but in most networks, will be either 0 or 1. A matrix element of 1 (or greater) signals that the respective column actor and row actor should be tied in the network. Zero signals that they are not tied.</p>
<p>We can use what we learned in the last tutorial to create such a matrix. An example might look like this:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="social-and-semantic-network-analysis.html#cb190-1" aria-hidden="true" tabindex="-1"></a>adjacency <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">5</span>, <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">&quot;Mark&quot;</span>, <span class="st">&quot;Peter&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Jill&quot;</span>, <span class="st">&quot;Aaron&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Mark&quot;</span>, <span class="st">&quot;Peter&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Jill&quot;</span>, <span class="st">&quot;Aaron&quot;</span>)))</span>
<span id="cb190-2"><a href="social-and-semantic-network-analysis.html#cb190-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb190-3"><a href="social-and-semantic-network-analysis.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(adjacency)</span></code></pre></div>
<pre><code>##       Mark Peter Bob Jill Aaron
## Mark     0     1   0    1     0
## Peter    1     0   1    0     1
## Bob      0     1   0    1     0
## Jill     1     0   1    0     1
## Aaron    0     1   0    1     0</code></pre>
<p>What are the upsides of using the adjacency matrix format? Adjacency matrices are the most fundamental network analysis data format. They undergird all of the analytical techniques we will show you later on. They are also much more efficient than edge lists. For example, imagine searching for whether Peter and Jill are friends in an adjacency matrix as opposed to an edge list. In the adjacency matrix, we would go to Peter’s row and Jill’s column and we would find either a 1 or a 0, giving us our answer. In an edge list, we would have to search through each edge, which might seem simple in a dataset with only 5 people, but as the edge list grows, it will scale linearly with the number of edges.</p>
<p>What are the downsides? It is really difficult to record network data with an adjacency matrix. They are better suited for computers than people.</p>
</div>
</div>
<div id="producing-a-skip-gram-matrix-for-semantic-network-analysis-and-embedding-models" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Producing a skip-gram matrix for semantic network analysis and embedding models</h2>
<p>In previous lessons, we learned how to fit topic models to many different texts (for example, the Wikipedia pages of philosophers). But what if, as is often the case, you only have a single text, and want to visualize its internal structure? Or, as is the case in embedding models, you want to model not just the set of words that each text has, but rather, the precise sequences of words that are employed in each text. Doing so should reveal not just composition, but how words relate to each other within and across texts; or put differently, the local context in which words appear.</p>
<p>To produce such models, we need a different kind of data from the raw co-occurence matrices we made use of before. We will use what is called a skip-gram model, which counts the number of times a given word appears near another word, with near-ness being defined as some kind of window, say, of 4 or 5 words. A skip-gram window of two, for example, would count the number of times word j appears within the two words immediately before or after word i.</p>
<p>Rather than building a skip-gram model ourselves, we can just use the CreateTcm() function from the textmineR package of last lesson to turn a text of interest into a skip-gram.</p>
<p>First, let’s install the textmineR package, load in some other necessary packages, and grab a text, <strong>The Constitution of the United States of America</strong>, from the Gutenberg Project to play around with.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="social-and-semantic-network-analysis.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;textmineR&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="social-and-semantic-network-analysis.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in packages</span></span>
<span id="cb193-2"><a href="social-and-semantic-network-analysis.html#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gutenbergr)</span>
<span id="cb193-3"><a href="social-and-semantic-network-analysis.html#cb193-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb193-4"><a href="social-and-semantic-network-analysis.html#cb193-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb193-5"><a href="social-and-semantic-network-analysis.html#cb193-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textmineR)</span></code></pre></div>
<pre><code>## Loading required package: Matrix</code></pre>
<pre><code>## 
## Attaching package: &#39;Matrix&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:tidyr&#39;:
## 
##     expand, pack, unpack</code></pre>
<pre><code>## 
## Attaching package: &#39;textmineR&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:Matrix&#39;:
## 
##     update</code></pre>
<pre><code>## The following object is masked from &#39;package:topicmodels&#39;:
## 
##     posterior</code></pre>
<pre><code>## The following object is masked from &#39;package:stats&#39;:
## 
##     update</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="social-and-semantic-network-analysis.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Download the constitution</span></span>
<span id="cb201-2"><a href="social-and-semantic-network-analysis.html#cb201-2" aria-hidden="true" tabindex="-1"></a>constitution <span class="ot">&lt;-</span> <span class="fu">gutenberg_download</span>(<span class="fu">c</span>(<span class="dv">5</span>), <span class="at">meta_fields =</span> <span class="st">&quot;title&quot;</span>)</span></code></pre></div>
<pre><code>## Determining mirror for Project Gutenberg from http://www.gutenberg.org/robot/harvest</code></pre>
<pre><code>## Using mirror http://aleph.gutenberg.org</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="social-and-semantic-network-analysis.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tokenize the constitution</span></span>
<span id="cb204-2"><a href="social-and-semantic-network-analysis.html#cb204-2" aria-hidden="true" tabindex="-1"></a>tokenized_words <span class="ot">&lt;-</span> <span class="fu">unnest_tokens</span>(constitution, </span>
<span id="cb204-3"><a href="social-and-semantic-network-analysis.html#cb204-3" aria-hidden="true" tabindex="-1"></a>                                 word, </span>
<span id="cb204-4"><a href="social-and-semantic-network-analysis.html#cb204-4" aria-hidden="true" tabindex="-1"></a>                                 text, </span>
<span id="cb204-5"><a href="social-and-semantic-network-analysis.html#cb204-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">strip_punct =</span> F)</span>
<span id="cb204-6"><a href="social-and-semantic-network-analysis.html#cb204-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-7"><a href="social-and-semantic-network-analysis.html#cb204-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in stop words</span></span>
<span id="cb204-8"><a href="social-and-semantic-network-analysis.html#cb204-8" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(stop_words)</span>
<span id="cb204-9"><a href="social-and-semantic-network-analysis.html#cb204-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-10"><a href="social-and-semantic-network-analysis.html#cb204-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop stop words as well as useless puntuation</span></span>
<span id="cb204-11"><a href="social-and-semantic-network-analysis.html#cb204-11" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(tokenized_words, stop_words, <span class="at">by =</span> <span class="st">&quot;word&quot;</span>) </span>
<span id="cb204-12"><a href="social-and-semantic-network-analysis.html#cb204-12" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> <span class="fu">anti_join</span>(word_counts, </span>
<span id="cb204-13"><a href="social-and-semantic-network-analysis.html#cb204-13" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">data.frame</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">&quot;*&quot;</span>, <span class="st">&quot;;&quot;</span>, <span class="st">&quot;,&quot;</span>, <span class="st">&quot;:&quot;</span>), </span>
<span id="cb204-14"><a href="social-and-semantic-network-analysis.html#cb204-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">lexicon =</span> <span class="st">&quot;bad punctuation&quot;</span>,</span>
<span id="cb204-15"><a href="social-and-semantic-network-analysis.html#cb204-15" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">stringsAsFactors =</span> F), </span>
<span id="cb204-16"><a href="social-and-semantic-network-analysis.html#cb204-16" aria-hidden="true" tabindex="-1"></a>                         <span class="at">by =</span> <span class="st">&quot;word&quot;</span>)</span>
<span id="cb204-17"><a href="social-and-semantic-network-analysis.html#cb204-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-18"><a href="social-and-semantic-network-analysis.html#cb204-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rid of the Gutenberg header</span></span>
<span id="cb204-19"><a href="social-and-semantic-network-analysis.html#cb204-19" aria-hidden="true" tabindex="-1"></a>word_counts <span class="ot">&lt;-</span> word_counts[<span class="dv">72</span><span class="sc">:</span><span class="fu">nrow</span>(word_counts),]</span>
<span id="cb204-20"><a href="social-and-semantic-network-analysis.html#cb204-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-21"><a href="social-and-semantic-network-analysis.html#cb204-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Put it all back together</span></span>
<span id="cb204-22"><a href="social-and-semantic-network-analysis.html#cb204-22" aria-hidden="true" tabindex="-1"></a>constitution <span class="ot">&lt;-</span> <span class="fu">paste0</span>(word_counts<span class="sc">$</span>word, <span class="at">collapse =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<p>All of the above should be familiar: it is the same code we used in both the previous two tutorials. Now, let’s look at some new code. The textmineR package has a super useful function - CreateTcm() - which produces a skip-gram matrix, just like we want. All we have to do is specify the texts we want to run the skip-gram model on, the size of the skip-gram window, and how many cpus we want to use on our computer.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="social-and-semantic-network-analysis.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(textmineR)</span>
<span id="cb205-2"><a href="social-and-semantic-network-analysis.html#cb205-2" aria-hidden="true" tabindex="-1"></a>skip_gram_constitution <span class="ot">&lt;-</span> <span class="fu">CreateTcm</span>(<span class="at">doc_vec =</span> constitution,</span>
<span id="cb205-3"><a href="social-and-semantic-network-analysis.html#cb205-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">skipgram_window =</span> <span class="dv">10</span>,</span>
<span id="cb205-4"><a href="social-and-semantic-network-analysis.html#cb205-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">verbose =</span> <span class="cn">FALSE</span>,</span>
<span id="cb205-5"><a href="social-and-semantic-network-analysis.html#cb205-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">cpus =</span> <span class="dv">1</span>)</span></code></pre></div>
<p>The result is a word-to-word matrix, where cells are weighted by how frequently two words appear in the same window. We can easily turn this into a network.</p>
</div>
<div id="from-data-to-networks" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> From data to networks</h2>
<p>To turn our raw network data into an actual network, we will first convert this skip-gram matrix to a similarity matrix, where words are given similar weights if they occur in similar contexts together. To do that, we’ll use the proxy package. First we install it.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="social-and-semantic-network-analysis.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;proxy&quot;</span>)</span></code></pre></div>
<p>Then, we can use the simil function to measure the similarity between words in terms of their co-occurrences with other words. We’ll use cosine distance here, but there are many other distance measures you could consider using.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="social-and-semantic-network-analysis.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(proxy)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;proxy&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:Matrix&#39;:
## 
##     as.matrix</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     as.dist, dist</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     as.matrix</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="social-and-semantic-network-analysis.html#cb212-1" aria-hidden="true" tabindex="-1"></a>simil_constitution <span class="ot">&lt;-</span> <span class="fu">simil</span>(<span class="fu">as.matrix</span>(skip_gram_constitution), <span class="at">method =</span> <span class="st">&quot;cosine&quot;</span>)</span></code></pre></div>
<p>Cool! Next, we can use igraph, a user-maintained package in R, created for the sole purpose of analyzing networks. Installing igraph gives us a bunch of new tools for graphing, analyzing and manipulating networks, that don’t come with base R. The first step then is to install igraph. As always, to install a new package, we use the install.packages() function. It takes a character argument that is the name of the package you wish to install.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="social-and-semantic-network-analysis.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;igraph&quot;</span>)</span></code></pre></div>
<p>Now that igraph is installed, we need to use the library() function to load it into R.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="social-and-semantic-network-analysis.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;igraph&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;igraph&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:text2vec&#39;:
## 
##     normalize</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     as_data_frame, groups, union</code></pre>
<pre><code>## The following objects are masked from &#39;package:purrr&#39;:
## 
##     compose, simplify</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     crossing</code></pre>
<pre><code>## The following object is masked from &#39;package:tibble&#39;:
## 
##     as_data_frame</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     decompose, spectrum</code></pre>
<pre><code>## The following object is masked from &#39;package:base&#39;:
## 
##     union</code></pre>
<p>This will allow us to use all of igraph’s functions. To analyze networks, igraph uses an object class called: “igraph”. We therefore have to convert our skip-gram matrix into an igraph object. Specifically, for our skip-gram matrix, we can use the graph.adjacency() function to do so. We will set weighted = T so that edges are weighted by their skip-gram value (words that more frequently appear in the same context will have higher weights.) Before we do that, we should also set the diagonal of the matrix to 0, so that words aren’t tied to themselves.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="social-and-semantic-network-analysis.html#cb223-1" aria-hidden="true" tabindex="-1"></a>skip_gram_constitution <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(skip_gram_constitution)</span>
<span id="cb223-2"><a href="social-and-semantic-network-analysis.html#cb223-2" aria-hidden="true" tabindex="-1"></a><span class="fu">diag</span>(skip_gram_constitution) <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb223-3"><a href="social-and-semantic-network-analysis.html#cb223-3" aria-hidden="true" tabindex="-1"></a>constitution_network <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(skip_gram_constitution, <span class="at">weighted =</span> T)</span></code></pre></div>
</div>
<div id="exploring-your-network" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Exploring your network</h2>
<p>We finally have a network in R! So.. what next? Well we can read a summary of it by typing its name into R.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="social-and-semantic-network-analysis.html#cb224-1" aria-hidden="true" tabindex="-1"></a>constitution_network</span></code></pre></div>
<pre><code>## IGRAPH d512784 DNW- 723 11804 -- 
## + attr: name (v/c), weight (e/n)
## + edges from d512784 (vertex names):
##  [1] ability-&gt;affirm       ability-&gt;army         ability-&gt;commander   
##  [4] ability-&gt;defend       ability-&gt;preserve     ability-&gt;solemnly    
##  [7] ability-&gt;swear        ability-&gt;chief        ability-&gt;execute     
## [10] ability-&gt;faithfully   ability-&gt;protect      ability-&gt;affirmation 
## [13] ability-&gt;oath         ability-&gt;constitution ability-&gt;office      
## [16] ability-&gt;section      ability-&gt;president    ability-&gt;united      
## [19] abr    -&gt;attest       abr    -&gt;baldwin      abr    -&gt;butler      
## [22] abr    -&gt;cotesworth   abr    -&gt;jackson      abr    -&gt;pierce      
## + ... omitted several edges</code></pre>
<p>The first line - which begins with IGRAPH DN - tells us constitution_network is an igraph object and a directed network (DN), with N nodes and E edges.</p>
<p>The next line tells us some attributes of the nodes and edges network. At the moment, it only has the attribute “name” for the vertices (v/c). We can look at the values of the “name” attribute with the V()$ function.</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="social-and-semantic-network-analysis.html#cb226-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">V</span>(constitution_network)<span class="sc">$</span>name)</span></code></pre></div>
<pre><code>## [1] &quot;ability&quot;    &quot;abr&quot;        &quot;absence&quot;    &quot;absent&quot;     &quot;absolutely&quot;
## [6] &quot;accept&quot;</code></pre>
<p>Finally, the last part gives us a snapshot of the edges present in the network, most of which are omitted.<br />
We can visualize the network using the plot() function.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="social-and-semantic-network-analysis.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-122-1.png" width="672" /></p>
<p>The default visualization is pretty ugly… In the next section, we will learn how to improve the aesthetics of our network visualizations.</p>
</div>
<div id="the-basics-of-visualization" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> The Basics of Visualization</h2>
<p>Let’s start by adjusting the basic visualization. The most basic things we can change are the sizes and colors of nodes. When your network is large, often the nodes will appear too large and clumped together. The argument vertex.size allows you to adjust node size (vertex is the graph-theory term for node!).</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="social-and-semantic-network-analysis.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">vertex.size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-123-1.png" width="672" /></p>
<p>This is the basic way you change the settings of the plot function in igraph - you put a comma next to the next to the network object, type the name of the setting you want to change, and set it to a new value. Here we set vertex.size to 10. When you don’t change any settings, R will automatically use the default settings. You can find them in the help section for that function (i.e. by typing ?plot.igraph, for example). All you have to do is remember the names of the various settings, or look them up at: <a href="http://igraph.org/r/" class="uri">http://igraph.org/r/</a></p>
<p>The nodes have an ugly light orange color… We can use vertex.color to change their color to something nicer. We can also remove the ugly black frames by changing the vertex.frame.color setting to NA.</p>
<blockquote>
<p><strong>Useful Link</strong>
You can find a list of all the named colors in R at <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf" class="uri">http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf</a></p>
</blockquote>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="social-and-semantic-network-analysis.html#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-124-1.png" width="672" /></p>
<p>The labels are too large and blue. We can adjust label size with vertex.label.cex. We can adjust the color with vertex.label.color</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="social-and-semantic-network-analysis.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">edge.curved =</span> .<span class="dv">1</span>, <span class="at">edge.arrow.size =</span> .<span class="dv">3</span>, <span class="at">edge.width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-125-1.png" width="672" /></p>
<p>Alternatively, if we want to get rid of the labels, we can just set vertex.label to NA.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="social-and-semantic-network-analysis.html#cb232-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">vertex.label =</span> <span class="cn">NA</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-126-1.png" width="672" /></p>
<p>Finally we can make the edges smaller and curved to give them a nicer aesthetic</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="social-and-semantic-network-analysis.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">edge.curved =</span> .<span class="dv">1</span>, <span class="at">edge.arrow.size =</span> .<span class="dv">1</span>, <span class="at">edge.width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-127-1.png" width="672" /></p>
<p>But don’t go too crazy! If you set edge.curved to be greater than .1, it will start to look like spaghetti.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="social-and-semantic-network-analysis.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">edge.curved =</span> <span class="dv">1</span>, <span class="at">edge.arrow.size =</span> .<span class="dv">1</span>, <span class="at">edge.width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
</div>
<div id="layouts" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> Layouts</h2>
<p>igraph has set of layout functions which, when passed a network object, return an array of coordinates that can then used when plotting that network. These coordinates should be saved to a separate R object, which is then called within the plot function. They all have the format: layout DOT algorithm name. For example, layout.kamada.kawai() or layout.fruchterman.reingold()</p>
<p><strong>Kamada Kawai</strong></p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="social-and-semantic-network-analysis.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first we run the layout function on our graph</span></span>
<span id="cb235-2"><a href="social-and-semantic-network-analysis.html#cb235-2" aria-hidden="true" tabindex="-1"></a>kamadaLayout <span class="ot">&lt;-</span> <span class="fu">layout.kamada.kawai</span>(constitution_network)</span>
<span id="cb235-3"><a href="social-and-semantic-network-analysis.html#cb235-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb235-4"><a href="social-and-semantic-network-analysis.html#cb235-4" aria-hidden="true" tabindex="-1"></a><span class="co"># and then we change the default layout setting to equal the layout we generated above</span></span>
<span id="cb235-5"><a href="social-and-semantic-network-analysis.html#cb235-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">layout =</span> kamadaLayout, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">edge.curved =</span> .<span class="dv">1</span>, <span class="at">edge.arrow.size =</span> .<span class="dv">3</span>, <span class="at">edge.width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<p><strong>Frucherman-Reingold</strong></p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="social-and-semantic-network-analysis.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first we run the layout function on our graph</span></span>
<span id="cb236-2"><a href="social-and-semantic-network-analysis.html#cb236-2" aria-hidden="true" tabindex="-1"></a>fruchtermanLayout <span class="ot">&lt;-</span> <span class="fu">layout.fruchterman.reingold</span>(constitution_network)</span>
<span id="cb236-3"><a href="social-and-semantic-network-analysis.html#cb236-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb236-4"><a href="social-and-semantic-network-analysis.html#cb236-4" aria-hidden="true" tabindex="-1"></a><span class="co"># and then we change the default layout setting to equal the layout we generated above</span></span>
<span id="cb236-5"><a href="social-and-semantic-network-analysis.html#cb236-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">layout =</span> fruchtermanLayout, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> <span class="st">&quot;tomato&quot;</span>, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">edge.curved =</span> .<span class="dv">1</span>, <span class="at">edge.arrow.size =</span> .<span class="dv">3</span>, <span class="at">edge.width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-130-1.png" width="672" /></p>
<p>You can see ?layout_ for more options and details.</p>
</div>
<div id="group-detection" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> Group detection</h2>
<p>Finally, like we did in the Text as Data week, we can identify groups of words which tend to appear together and color nodes by their group affiliation.</p>
<p>First, identify groups using the wakltrap clustering algorithm and extract their group memberships.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="social-and-semantic-network-analysis.html#cb237-1" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">walktrap.community</span>(constitution_network)</span>
<span id="cb237-2"><a href="social-and-semantic-network-analysis.html#cb237-2" aria-hidden="true" tabindex="-1"></a>group_memberships <span class="ot">&lt;-</span> <span class="fu">membership</span>(groups)</span></code></pre></div>
<p>Then color nodes by their membership and plot the result.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="social-and-semantic-network-analysis.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(constitution_network, <span class="at">layout =</span> fruchtermanLayout, <span class="at">vertex.size =</span> <span class="dv">2</span>, <span class="at">vertex.color =</span> group_memberships, <span class="at">vertex.label.cex =</span> .<span class="dv">2</span>, <span class="at">vertex.label.color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">edge.curved =</span> .<span class="dv">1</span>, <span class="at">edge.arrow.size =</span> .<span class="dv">3</span>, <span class="at">edge.width =</span> .<span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-132-1.png" width="672" /></p>
<p>No lab this week! Work on your projects!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="machine-learning-with-caret.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-weird-data-an-example.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
